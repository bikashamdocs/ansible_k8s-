- name: Pull Kubernetes images
  command: kubeadm config images pull
  ignore_errors: yes
  
- name: Create repo directory
  become: true
  file:
    path: /ansible/repo
    state: directory
  

- name: Initialize Kubernetes cluster
  become: true
  shell: "kubeadm init > /ansible/repo/kubeadm-init-output.log"
  register: kubeadm_output
  
- name: Display kubeadm init output
  debug:
    var: kubeadm_output.stdout_lines



